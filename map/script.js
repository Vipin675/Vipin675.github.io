// ######################################################## DATA ##################################################################

var coeDataArray = [
  {
    lat: 30.864786,
    lon: 76.017415,
    title: "Severity Score: 43",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.929611,
    lon: 75.871948,
    title: "Severity Score: 30",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.916757,
    lon: 75.880176,
    title: "Severity Score: 27",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.896093,
    lon: 75.920396,
    title: "Severity Score: 27",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.795558,
    lon: 75.870299,
    title: "Severity Score: 63",
    description: "Order of Black Spot Priority: 3",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.975519,
    lon: 75.803801,
    title: "Severity Score: 127",
    description: "Order of Black Spot Priority: 1",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.86437,
    lon: 75.926371,
    title: "Severity Score: 100",
    description: "Order of Black Spot Priority: 1",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.886374,
    lon: 75.940004,
    title: "Severity Score: 33",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.857514,
    lon: 75.859478,
    title: "Severity Score: 37",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.81591,
    lon: 75.867382,
    title: "Severity Score: 60",
    description: "Order of Black Spot Priority: 3",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.887912,
    lon: 75.936592,
    title: "Severity Score: 82",
    description: "Order of Black Spot Priority: 1",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.879693,
    lon: 75.768989,
    title: "Severity Score: 27",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.839782,
    lon: 75.967889,
    title: "Severity Score: 39",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.914927,
    lon: 75.877505,
    title: "Severity Score: 46",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.884319,
    lon: 75.897614,
    title: "Severity Score: 36",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.868943,
    lon: 75.975113,
    title: "Severity Score: 46",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.844376,
    lon: 75.855278,
    title: "Severity Score: 31",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.89319,
    lon: 75.904694,
    title: "Severity Score: 28",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.848862,
    lon: 75.877883,
    title: "Severity Score: 33",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.865588,
    lon: 75.859141,
    title: "Severity Score: 33",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.921164,
    lon: 75.875437,
    title: "Severity Score: 68",
    description: "Order of Black Spot Priority: 2",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.958982,
    lon: 75.81992,
    title: "Severity Score: 30",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.916375,
    lon: 75.829832,
    title: "Severity Score: 24",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.90852,
    lon: 75.88545,
    title: "Severity Score: 50",
    description: "Order of Black Spot Priority: 4",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.967017,
    lon: 75.81407,
    title: "Severity Score: 33",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.871603,
    lon: 75.858989,
    title: "Severity Score: 48",
    description: "Order of Black Spot Priority: 4",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.861659,
    lon: 75.930598,
    title: "Severity Score: 42",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.907244,
    lon: 75.846597,
    title: "Severity Score: 50",
    description: "Order of Black Spot Priority: 4",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.846351,
    lon: 75.956913,
    title: "Severity Score: 112",
    description: "Order of Black Spot Priority: 1",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.882665,
    lon: 75.89078,
    title: "Severity Score: 136",
    description: "Order of Black Spot Priority: 1",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.898501,
    lon: 75.871817,
    title: "Severity Score: 38",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.885212,
    lon: 75.886434,
    title: "Severity Score: 91",
    description: "Order of Black Spot Priority: 1",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.883617,
    lon: 75.829875,
    title: "Severity Score: 32",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.8907329,
    lon: 75.87676,
    title: "Severity Score: 30",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.85226,
    lon: 75.947122,
    title: "Severity Score: 42",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.861481,
    lon: 75.931034,
    title: "Severity Score: 30",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.849132,
    lon: 75.951808,
    title: "Severity Score: 47",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.803557,
    lon: 75.944667,
    title: "Severity Score: 72",
    description: "Order of Black Spot Priority: 2",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.934869,
    lon: 75.858987,
    title: "Severity Score: 51",
    description: "Order of Black Spot Priority: 4",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.886938,
    lon: 75.789807,
    title: "Severity Score: 41",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.902317,
    lon: 75.832156,
    title: "Severity Score: 27",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.881217,
    lon: 75.951446,
    title: "Severity Score: 59",
    description: "Order of Black Spot Priority: 3",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.948891,
    lon: 75.827577,
    title: "Severity Score: 65",
    description: "Order of Black Spot Priority: 2",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.876684,
    lon: 75.858984,
    title: "Severity Score: 23",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.881136,
    lon: 75.893927,
    title: "Severity Score: 39",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.866312,
    lon: 76.005228,
    title: "Severity Score: 48",
    description: "Order of Black Spot Priority: 4",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.893343,
    lon: 75.926249,
    title: "Severity Score: 43",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.823458,
    lon: 75.866268,
    title: "Severity Score: 45",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.801761,
    lon: 75.869431,
    title: "Severity Score: 34",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.988063,
    lon: 75.79067,
    title: "Severity Score: 49",
    description: "Order of Black Spot Priority: 4",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.936456,
    lon: 75.876786,
    title: "Severity Score: 31",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.89047,
    lon: 75.884354,
    title: "Severity Score: 72",
    description: "Order of Black Spot Priority: 2",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.874677,
    lon: 75.906953,
    title: "Severity Score: 39",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.90264,
    lon: 75.841116,
    title: "Severity Score: 50",
    description: "Order of Black Spot Priority: 4",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.87892,
    lon: 75.898644,
    title: "Severity Score: 25",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.706769,
    lon: 75.848042,
    title: "Severity Score: 50",
    description: "Order of Black Spot Priority: 4",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.85551,
    lon: 75.94085,
    title: "Severity Score: 27",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.89043,
    lon: 75.93137,
    title: "Severity Score: 27",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.82675,
    lon: 75.988163,
    title: "Severity Score: 33",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.936924,
    lon: 75.850968,
    title: "Severity Score: 64",
    description: "Order of Black Spot Priority: 2",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.990682,
    lon: 75.790236,
    title: "Severity Score: 35",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.953035,
    lon: 75.824933,
    title: "Severity Score: 42",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.945056,
    lon: 75.831204,
    title: "Severity Score: 44",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.936243,
    lon: 75.854321,
    title: "Severity Score: 67",
    description: "Order of Black Spot Priority: 2",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.875405,
    lon: 75.844976,
    title: "Severity Score: 42",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.866528,
    lon: 75.922402,
    title: "Severity Score: 61",
    description: "Order of Black Spot Priority: 3",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.937176,
    lon: 75.836804,
    title: "Severity Score: 56",
    description: "Order of Black Spot Priority: 3",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.836851,
    lon: 75.972149,
    title: "Severity Score: 47",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.91003,
    lon: 75.879017,
    title: "Severity Score: 66",
    description: "Order of Black Spot Priority: 2",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.897366,
    lon: 75.883772,
    title: "Severity Score: 38",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.88925,
    lon: 75.85845,
    title: "Severity Score: 36",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.903404,
    lon: 75.881839,
    title: "Severity Score: 34",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.933125,
    lon: 75.865617,
    title: "Severity Score: 69",
    description: "Order of Black Spot Priority: 2",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.937798,
    lon: 75.846696,
    title: "Severity Score: 46",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.930471,
    lon: 75.871256,
    title: "Severity Score: 86",
    description: "Order of Black Spot Priority: 1",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.891618,
    lon: 75.847706,
    title: "Severity Score: 33",
    description: "Order of Black Spot Priority: 5",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
  {
    lat: 30.942027,
    lon: 75.833465,
    title: "Severity Score: 85",
    description: "Order of Black Spot Priority: 1",
    icon: "coe2.jpeg",
    iconSize: "20,20",
    iconOffset: "0,0",
  },
];

// ################################################################################################################################
// Initialize the map and set its view to our chosen geographical coordinates and a zoom level:
// var map = L.map("map").setView([30.859612, 75.862076], 15);
var map = L.map("map").setView([30.900965, 75.857277], 12);

// tileLayer: Used to load and display tile layers on the map, in this case it’s a OpenStreetMap tile layer.
L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
  maxZoom: 19,
  attribution:
    '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
}).addTo(map);

// Make sure all the code is called after the div and leaflet.js inclusion.

// ################################################################################################################################

// POPUP Lat and Lng on click on anywhere on map
var popup = L.popup();

function onMapClick(e) {
  popup
    .setLatLng(e.latlng)
    .setContent("You clicked the map at " + e.latlng.toString())
    .openOn(map);
}

map.on("click", onMapClick);

// ----------------------------------------------------------------------------------------------------------------------------------
for (let i = 0; i < coeDataArray.length; i++) {
  // Marker
  var myIcon = L.icon({
    iconUrl: "https://gndec.ac.in/~hsrai/maps/coe/coe2.jpeg",
    iconSize: [coeDataArray[i].iconSize],
    iconOffset: [coeDataArray[i].iconOffset],
  });
  var marker = L.marker([coeDataArray[i].lat, coeDataArray[i].lon], {
    icon: myIcon,
  })
    .addTo(map)
    .bindPopup(coeDataArray[i].title + ", " + coeDataArray[i].description);

  //   POI (Point of Interest) representing accident data on Open Street Map.
  var circle = L.circle([coeDataArray[i].lat, coeDataArray[i].lon], {
    color: "red",
    fillColor: "#f03",
    fillOpacity: 0.5,
    radius: 100,
  })
    .addTo(map)
    .bindPopup(coeDataArray[i].description);
}
// -------------------------------------------------------------------------------------------------------------------------------

// GROUPS
// Creating layers
var markerGroup = L.layerGroup();
var circleGroup = L.layerGroup();

// Add the marker and circle layers to their respective groups
markerGroup.addLayer(marker);
circleGroup.addLayer(circle);

// Add the layer groups to the map
markerGroup.addTo(map);
circleGroup.addTo(map);
